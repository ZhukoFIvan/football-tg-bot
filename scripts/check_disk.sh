#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∏—Å–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

echo "======================================"
echo "üìä –ê–ù–ê–õ–ò–ó –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø –î–ò–°–ö–ê"
echo "======================================"
echo ""

# 1. –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–∏—Å–∫–µ
echo "1Ô∏è‚É£  –û–±—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞:"
df -h /
echo ""

# 2. –†–∞–∑–º–µ—Ä Docker –æ–±—Ä–∞–∑–æ–≤
echo "2Ô∏è‚É£  Docker –æ–±—Ä–∞–∑—ã:"
docker system df
echo ""

# 3. –†–∞–∑–º–µ—Ä –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
echo "3Ô∏è‚É£  –†–∞–∑–º–µ—Ä –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞:"
du -sh ~/projects/tg-bot-football-back
echo ""

# 4. –†–∞–∑–º–µ—Ä uploads (–∫–∞—Ä—Ç–∏–Ω–∫–∏)
echo "4Ô∏è‚É£  –†–∞–∑–º–µ—Ä –ø–∞–ø–∫–∏ uploads (–∫–∞—Ä—Ç–∏–Ω–∫–∏):"
du -sh ~/projects/tg-bot-football-back/uploads 2>/dev/null || echo "–ü–∞–ø–∫–∞ uploads –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –∏–ª–∏ –ø—É—Å—Ç–∞—è"
echo ""

# 5. –õ–æ–≥–∏ Docker
echo "5Ô∏è‚É£  –†–∞–∑–º–µ—Ä –ª–æ–≥–æ–≤ Docker:"
sudo du -sh /var/lib/docker/containers 2>/dev/null || echo "–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –ª–æ–≥–∞–º Docker"
echo ""

# 6. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
echo "6Ô∏è‚É£  –†–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:"
docker compose -f ~/projects/tg-bot-football-back/docker-compose.yml exec postgres \
  psql -U postgres -d tg_shop -c "SELECT pg_size_pretty(pg_database_size('tg_shop'));" 2>/dev/null || echo "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä –ë–î"
echo ""

# 7. –¢–æ–ø-10 —Å–∞–º—ã—Ö –±–æ–ª—å—à–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
echo "7Ô∏è‚É£  –¢–æ–ø-10 —Å–∞–º—ã—Ö –±–æ–ª—å—à–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –≤ home:"
du -h ~ 2>/dev/null | sort -rh | head -20
echo ""

echo "======================================"
echo "‚úÖ –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω"
echo "======================================"


